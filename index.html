<!DOCTYPE html>
<html>

<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <meta charset="UTF-8">
    <title>iTunes API Tutorial</title>
    <link rel="shortcut icon" href="http://findicons.com/files/icons/2770/ios_7_icons/512/music.png">
</head>

<body>
    
  <nav>
    <div class="nav-wrapper">
      <form>
        <div class="input-field">
          <input id="search" type="search" required>
          <label class="label-icon" for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
      </form>
    </div>
  </nav>


    <img class="materialboxed" width="650" src="https://www.paypal-gifts.com/media/catalog/product/cache/8/small_image/9df78eab33525d08d6e5fb8d27136e95/c/a/card-25_8.jpg">
      
    <h1>Make Something with the iTunes API!</h1>
    <h3> <a href="https://affiliate.itunes.apple.com/resources/documentation/itunes-store-web-service-search-api/#searchexamples">
            Some Examples
        </a>
    </h3>
    <h3>
       To Do List:
    </h3>
        <ul>
            <li>CSS frame work</li>
            <li>Search Bar</li>
            <li>Loading image.</li>
            <li>Error Message</li>
            <li>No result found message.</li>
            <li>Make it look pretty:)</li>
        </ul>
    <h3>
        New songs
    </h3>
        <ul id="songs">

        </ul>
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script>
       $("form").submit(function (event) {
        event.preventDefault()
        var uinput = $("#search").val()
        search(uinput)  
       })
       function search (input) {

            $.ajax({
                url: "http://itunes.apple.com/search?term="+input,
                dataType: 'JSONP'
            })
                .done(function (data) { 
                    console.log(data); 
                    // add code for when response from apple comes back.
                    for (var i = 0; i < data.results.length ; i++){
                        if(data.results[i].trackName){
                            $('#songs').append("<li>" + data.results[i].trackName + "</li>");
                        }
                    }
                    })
                .fail(function (data) { 
                    console.log(data); 
                        $('#songs').append(data.status);
                    })
        }





    </script>
  </body>
</html>
